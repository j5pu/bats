#!/usr/bin/env bash

#######################################
# checks if function is exported
# Globals:
#   FUNCNAME
# Arguments:
#   1   function name (default: ${FUNCNAME[0]})
# Returns:
#   1 if function is not exported,
#   0 if function is exported
#######################################
main() {
  local arg="${1:-${FUNCNAME[0]}}"
  if ! declare -Fp "${arg}" 2>/dev/null | grep -q "declare -fx ${arg}" >/dev/null; then
    echo >&2 "${BASH_SOURCE[0]}: ${arg}: function not exported"
    return 1
  fi
}

main "$@"

